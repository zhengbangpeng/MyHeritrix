define("common:static/js/modules/util.js",function(e,t,a){function o(e){return"[object Function]"===Object.prototype.toString.call(e)}function n(e,t,a){0===$("#jquery-msg-content").length&&(a=$.extend({},{btn_text:"关闭",custom_class:"",title:""},a),$.msg({autoUnblock:!1,clickUnblock:!1,content:'<div class="modal_bg"><div class="msg_modal '+a.custom_class+'"><h3 class="msg_modal_title">'+a.title+"</h3>"+e+'<div class="msg_modal_opt tc"><a class="opt-btn btn-gray dib" id="js_modal_close_btn" herf="javascript: void 0">'+a.btn_text+'</a></div></div><a id="js_modal_close_icon" class="modal_close_icon" herf="javascript: void 0"></a></div>',klass:"white-on-blue",afterBlock:function(){document.getElementById("jquery-msg-content").style.filter="progid:DXImageTransform.Microsoft.gradient(startcolorstr=#AA164188,endcolorstr=#AA164188)";var e=this;$("#js_modal_close_btn, #js_modal_close_icon").on("click",function(){e.unblock(),o(t)&&t()})}}))}function i(e,t,a){0===$("#jquery-msg-content").length&&(a=$.extend({},{yes_text:"确定",no_text:"取消",custom_class:"",title:""},a),t=$.extend({},{afterblock_callback:function(){},yes_callback:function(){},yes_before_callback:null,no_callback:function(){}},t),$.msg({autoUnblock:!1,clickUnblock:!1,content:'<div class="modal_bg"><div class="msg_modal '+a.custom_class+'"><h3 class="msg_modal_title">'+a.title+"</h3>"+e+'<div class="modal_confirm_bottom"><div class="clearfix modal_confirm_opt"><a class="opt-btn btn-blue fl" id="js_modal_yes_btn" herf="javascript: void 0">'+a.yes_text+'</a><a class="opt-btn btn-gray fr" id="js_modal_no_btn" herf="javascript: void 0">'+a.no_text+'</a></div></div></div><a id="js_modal_close_icon" class="modal_close_icon" herf="javascript: void 0"></a></div>',klass:"white-on-blue",afterBlock:function(){document.getElementById("jquery-msg-content").style.filter="progid:DXImageTransform.Microsoft.gradient(startcolorstr=#AA164188,endcolorstr=#AA164188)";var e=this;o(t.afterblock_callback)&&t.afterblock_callback(),$("#js_modal_yes_btn").on("click",function(){return o(t.yes_before_callback)&&!t.yes_before_callback()?!1:(e.unblock(),void(o(t.yes_callback)&&t.yes_callback()))}),$("#js_modal_no_btn, #js_modal_close_icon").on("click",function(){e.unblock(),o(t.no_callback)&&t.no_callback()})}}))}function r(e,t,a){var o='<p class="modal_alert_desc">'+e+"</p>";a=$.extend({},{custom_class:"alert_modal"},a),n(o,t,a)}function s(e,t,a,o){var i='<table class="info_table info_'+e+'"><td class="td-1"><span class="sprite info-icon"></span></td><td class="td-2"><p class="info_desc">'+t+"</p></td></table>";o=$.extend({},{custom_class:"info_modal",title:"提示",btn_text:"关闭"},o),n(i,a,o)}function l(e,t,a){s("error",e,t,a)}function c(e,t,a){s("succ",e,t,a)}function d(e,t){i('<p class="msg_desc tc mt40 mb40">确定要删除吗？</p>',{yes_callback:e,no_callback:t},{custom_class:"service-del-confirm",title:"提示"})}function u(e,t,a){var o=$.trim(e.val());return o.length?(t.text(""),e.removeClass("border-error"),!0):(t.text(a),e.addClass("border-error"),!1)}function p(e){return/^1((3\d)|(4[57])|(5\d)|(7\d)|(8\d))\d{8}$/.test(e)?!0:!1}function m(e){var t=/^[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)*@[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)*(\.[a-zA-Z]+)$/;return t.test(e)?!0:!1}function f(e){var t=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i;return t.test(e)?!0:!1}var g,h="https://passport.rdtest.baidu.com/v2/?login&tpl=tip&color=blue&u=";("apistore.baidu.com"===window.location.host||"cp01-tdw-north-slave014.cp01.baidu.com:8080"===window.location.host)&&(h="https://passport.baidu.com/v2/?login&tpl=tip&color=blue&u="),a.exports={isFunction:o,msg:n,alert:r,info:s,error:l,succ:c,confirm:i,del_confirm:d,empty_check:u,is_tel:p,is_email:m,is_url:f,spin:function(e){new Spinner({lines:6,length:3,width:4,radius:4,color:"#999",speed:1.6,trail:66,shadow:!1}).spin(e[0])},num_only:function(e){e.on("keydown",function(e){return e.keyCode<45&&37!==e.keyCode&&39!==e.keyCode&&9!==e.keyCode&&8!==e.keyCode||e.keyCode>57&&e.keyCode<96||e.keyCode>105?!1:void 0}),e.on("keyup",function(e){if(e.keyCode<45&&37!==e.keyCode&&39!==e.keyCode&&9!==e.keyCode&&8!==e.keyCode||e.keyCode>57&&e.keyCode<96||e.keyCode>105){var t=/[^\d]/g;$(this).val($(this).val().replace(t,""))}})},setCookie:function(e,t,a){var o=new Date;o.setDate(o.getDate()+a),document.cookie=e+"="+escape(t)+(void 0==a?"":";expires="+o.toUTCString())},getCookie:function(e){return document.cookie.length>0&&(cStart=document.cookie.indexOf(e+"="),-1!==cStart)?(cStart=cStart+e.length+1,cEnd=document.cookie.indexOf(";",cStart),-1===cEnd&&(cEnd=document.cookie.length),unescape(document.cookie.substring(cStart,cEnd))):""},is_ie6:function(){return document.all&&document.compatMode&&!window.XMLHttpRequest},is_ie8:function(){return document.all&&document.querySelector&&!document.addEventListener},is_lt_ie10:function(){return document.all&&!window.atob},ajaxPost:function(e,t,a,n,i,r,s){t.token=$("#js-header").attr("data-token"),$.post(e,t,"","json").done(function(e){if(e.userInfo&&!e.userInfo.loginState)if(s&&s.isRedirect)window.location=h+window.location.href;else if(g)return void g.show();e.token&&$("#js-header").attr("data-token",e.token),0===e.errNum?o(a)&&a(e.retData):o(n)?n(e.retMsg):window.alert(e.retMsg)}).fail(function(){o(i)&&i()}).always(function(){o(r)&&r()})},ajaxGet:function(e,t,a,n,i,r,s){$.ajax({type:"GET",url:e,data:t,dataType:"json",cache:!1}).done(function(e){if(e.userInfo&&!e.userInfo.loginState)if(s&&s.isRedirect)window.location=h+window.location.href;else if(g)return void g.show();0===e.errNum?o(a)&&a(e.retData):o(n)?n(e.retMsg):window.alert(e.retMsg)}).fail(function(){o(i)&&i()}).always(function(){o(r)&&r()})},basicValidateEvent:function(e,t){function a(){e.on("blur",function(){n()})}function o(){e.on("change",function(){n()})}function n(){var a="",o=$.trim(e.val())||"";("radio"===r||"checkbox"===r)&&(o=e.filter(":checked").val()||"");for(var n=0,i=s.length;i>n;n++){switch(s[n]){case"required":o.length||(a=s[n]);break;case"email":m(o)||(a=s[n]);break;case"tel":p(o)||(a=s[n]);break;case"url":f(o)||(a=s[n])}if(a.length)return t.text(c[a]),e.addClass("border-error"),!1}return t.text(""),e.removeClass("border-error"),!0}var i=e[0].tagName.toLowerCase(),r=e.eq(0).attr("type"),s=e.attr("data-validate-params"),l=e.attr("data-validate-reasons"),c={required:"必填项不能为空",email:"请输入正确的Email",url:"请输入合法的（带协议的）URL",tel:"请输入正确的手机号码"};if(s){if(s=s.split("|"),l){l=l.split("|");for(var d=0,u=Math.min(s.length,l.length);u>d;d++)l[d]&&(c[s[d]]=l[d])}switch(i){case"input":switch(r){case"radio":case"checkbox":o();break;default:a()}break;case"textarea":a();break;case"select":o()}return n}},dateFormat:function(e){var t=new Date(1e3*e),a=t.getFullYear(),o=t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1),n=t.getDate()>9?t.getDate():"0"+t.getDate(),i=t.getHours()>9?t.getHours():"0"+t.getHours(),r=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes(),s=t.getSeconds()>9?t.getSeconds():"0"+t.getSeconds();return a+"-"+o+"-"+n+" "+i+":"+r+":"+s},pager:function(e,t,a){var e=e||1,t=t||0,a=a||7,o=1,n=0,i=[];if(2>t)return"";e-Math.floor(a/2)>1&&(o=e-Math.floor(a/2)),n=e+Math.floor(a/2)>t?t:e+Math.floor(a/2),i.push('<li class="pager-item"><a href="javascript: void 0" class="pager-link pager-first js-pager-link" data="1">首页</a></li>'),e>1&&i.push('<li class="pager-item"><a href="javascript: void 0" class="pager-link pager-caret js-pager-link" data="'+(e-1)+'">&lt;&lt;</a></li>'),o>2&&i.push('<li class="pager-item"><span class="pager-seperator">...</span></li>');for(var r=o;n>=r;r++)i.push(r===e?'<li class="pager-item"><span class="pager-link active">'+e+"</span></li>":'<li class="pager-item"><a href="javascript: void 0" class="pager-link js-pager-link" data="'+r+'">'+r+"</a></li>");return t-1>n&&i.push('<li class="pager-item"><span class="pager-seperator">...</span></li>'),t>e&&i.push('<li class="pager-item"><a href="javascript: void 0" class="pager-link pager-caret js-pager-link" data="'+(e+1)+'">&gt;&gt;</a></li>'),i.push('<li class="pager-item"><a href="javascript: void 0" class="pager-link pager-last js-pager-link" data="'+t+'">尾页</a></li>'),'<ul class="pager-list">'+i.join("")+"</ul>"},addUploadEvent:function(e){function t(){var t=[{name:"token",value:$("#js-header").attr("data-token")}];return $.each(e.formData,function(e,a){t.push({name:e,value:a})}),t}function a(t,a,o){var n="";"image"===e.fileType?(n=$('<span class="js-uploaded-file">'),$(e.filesBlock).attr("data",t.imageId),e.isPreview?$(a.context.children()[o]).wrap(n).replaceWith('<img src="'+t.imageUrl+'" alt="'+t.imageUrl+'"/>'):$(a.context.children()[o]).text(t.imageId).wrap(n)):"file"===e.fileType&&(n=$('<span class="js-uploaded-file">'),$(e.filesBlock).attr("data-file-name",t.fileName),$(a.context.children()[o]).text(t.displayName).wrap(n)),$(e.filesBlock).find(".js-uploaded-file").after($('<span class="ml20 btn-word c_c00">删除</span>').on("click",function(){$(e.filesBlock).empty().removeAttr("data").removeAttr("data-file-name"),$(this).remove()}))}e=$.extend({},{element:"",url:"/astore/fileupload",regexp:/(\.|\/)(gif|jpe?g|png)$/i,autoUpload:!0,fileType:"image",maxFileSize:5e6,paramName:"resources",filesBlock:"",progresser:"",formData:{},isPreview:!1},e);var o="";o=e.autoUpload?$('<span class="js-upload"/>').hide().addClass("ml20 btn-word c_c00").text("取消").on("click",function(){var t=$(this).data();$(this).remove(),$(e.filesBlock).html(t.originContext),$(e.progresser).parent().hide().end().css("width","0%"),t.abort()}):$('<span class="js-upload"/>').addClass("ml20 btn-word c_blue").prop("disabled",!0).text("处理中...").on("click",function(){var t=$(this),a=t.data();t.off("click").text("取消").on("click",function(){t.remove(),$(e.filesBlock).html(a.originContext),$(e.progresser).parent().hide().end().css("width","0%"),a.abort()}),a.submit().always(function(){t.remove()})}),$(""+e.target).fileupload({url:e.url,dataType:"json",autoUpload:e.autoUpload,acceptFileTypes:e.regexp,maxFileSize:e.maxFileSize,minFileSize:10,dropZone:null,pasteZone:null,paramName:e.paramName,formData:t,maxNumberOfFiles:1,maxChunkSize:1e6,bitrateInterval:1e3}).on("fileuploadadd",function(t,a){a.originContext=$(e.filesBlock).children().remove(),a.context=$("<div/>").appendTo(e.filesBlock)}).on("fileuploadsubmit",function(e,t){$(t.context.children()[2]).remove()}).on("fileuploadprocessalways",function(t,a){var n=a.index,i=a.files[n];return i.error?(0===$("#jquery-msg-content").length?l(i.error):window.alert(i.error),!1):($(e.progresser).parent().show(),$.each(a.files,function(e,t){a.context.append($("<span/>").text(t.name)),e||a.context.append(o.clone(!0).data(a))}),void(n+1===a.files.length&&(e.autoUpload?a.context.find(".js-upload"):a.context.find(".js-upload").text("上传").prop("disabled",!!a.files.error),a.context.append($('<span class="ml20 btn-word c_c00">取消</span>').on("click",function(){$(e.filesBlock).html(a.originContext),$(e.progresser).parent().hide().end().css("width","0%")})))))}).on("fileuploadprogressall",function(t,a){var o=parseInt(a.loaded/a.total*100,10);$(e.progresser).css("width",o+"%")}).on("fileuploaddone",function(t,o){return o.result.userInfo&&!o.result.userInfo.loginState?void g.show():(o.result.token&&$("#js-header").attr("data-token",o.result.token),$(o.context.children()[1]).remove(),$.each(o.result.listInfo,function(e,t){t.error?0===$("#jquery-msg-content").length?l(t.error):window.alert(t.error):a(t,o,e)}),void $(e.progresser).parent().hide().end().css("width","0%"))}).on("fileuploadfail",function(e,t){$.each(t.listInfo,function(){0===$("#jquery-msg-content").length?l("文件上传失败"):window.alert("文件上传失败")})})},getPassportInstance:function(){return g?g:g=passport.pop.init({apiOpt:{staticPage:window.location.protocol+"//"+window.location.host+"/v3Jump.html",product:"tip",u:window.location.href,sms:0,charset:"utf-8",uniqueId:!0},forgetLink:"https://passport.baidu.com/?getpass_index",registerLink:"https://passport.baidu.com/v2/?reg&tpl=&u=",authsite:["tsina","qzone"],tangram:!0,onLoginSuccess:function(){}})},isLogin:function(e){e||(window.location.href=h+window.location.href)},getUrlParam:function(e,t){var a=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null==a?"":a[1]||""},searchByUrlParams:function(e){if(e&&$.isPlainObject(e)){var t=[];for(var a in e)e.hasOwnProperty(a)&&null!=e[a]&&("string"===$.type(e[a])&&e[a].length?t.push(encodeURIComponent(a.replace(/^\s+|\s+$/g,""))+"="+encodeURIComponent(e[a].replace(/^\s+|\s+$/g,""))):"number"===$.type(e[a])&&t.push(encodeURIComponent(a.replace(/^\s+|\s+$/g,""))+"="+encodeURIComponent(e[a])));t.length&&(window.location.search="?"+t.join("&"))}},mobileCheck:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}}});