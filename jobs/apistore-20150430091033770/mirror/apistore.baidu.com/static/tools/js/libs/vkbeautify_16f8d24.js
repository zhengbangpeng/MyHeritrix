!function(){function e(e){var r="    ";if(isNaN(parseInt(e)))r=e;else switch(e){case 1:r=" ";break;case 2:r="  ";break;case 3:r="   ";break;case 4:r="    ";break;case 5:r="     ";break;case 6:r="      ";break;case 7:r="       ";break;case 8:r="        ";break;case 9:r="         ";break;case 10:r="          ";break;case 11:r="           ";break;case 12:r="            "}var c=["\n"];for(ix=0;100>ix;ix++)c.push(c[ix]+r);return c}function r(){this.step="    ",this.shift=e(this.step)}function c(e,r){return r-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function a(e,r){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+r+r+"AND ").replace(/ BETWEEN /gi,"~::~"+r+"BETWEEN ").replace(/ CASE /gi,"~::~"+r+"CASE ").replace(/ ELSE /gi,"~::~"+r+"ELSE ").replace(/ END /gi,"~::~"+r+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+r+"ON ").replace(/ OR /gi,"~::~"+r+r+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+r+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+r).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+r+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(r,c){var a=r.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/xmlns\:/g,"~::~xmlns:").replace(/xmlns\=/g,"~::~xmlns=").split("~::~"),l=a.length,s=!1,p=0,g="",i=0,n=c?e(c):this.shift;for(i=0;l>i;i++)a[i].search(/<!/)>-1?(g+=n[p]+a[i],s=!0,(a[i].search(/-->/)>-1||a[i].search(/\]>/)>-1||a[i].search(/!DOCTYPE/)>-1)&&(s=!1)):a[i].search(/-->/)>-1||a[i].search(/\]>/)>-1?(g+=a[i],s=!1):/^<\w/.exec(a[i-1])&&/^<\/\w/.exec(a[i])&&/^<[\w:\-\.\,]+/.exec(a[i-1])==/^<\/[\w:\-\.\,]+/.exec(a[i])[0].replace("/","")?(g+=a[i],s||p--):a[i].search(/<\w/)>-1&&-1==a[i].search(/<\//)&&-1==a[i].search(/\/>/)?g=g+=s?a[i]:n[p++]+a[i]:a[i].search(/<\w/)>-1&&a[i].search(/<\//)>-1?g=g+=s?a[i]:n[p]+a[i]:a[i].search(/<\//)>-1?g=g+=s?a[i]:n[--p]+a[i]:a[i].search(/\/>/)>-1?g=g+=s?a[i]:n[p]+a[i]:g+=a[i].search(/<\?/)>-1?n[p]+a[i]:a[i].search(/xmlns\:/)>-1||a[i].search(/xmlns\=/)>-1?n[p]+a[i]:a[i];return"\n"==g[0]?g.slice(1):g},r.prototype.json=function(r,c){var c=c?c:this.step;if(window.JSON&&window.JSON.stringify)return"string"==typeof r?JSON.stringify(JSON.parse(r),null,c):"object"==typeof r?JSON.stringify(r,null,c):null;if("string"!=typeof r||!r)return null;var a=this.jsonmin(r).replace(/\{/g,"~::~{~::~").replace(/\[/g,"[~::~").replace(/\}/g,"~::~}").replace(/\]/g,"~::~]").replace(/\"\,/g,'",~::~').replace(/\,\"/g,',~::~"').replace(/\]\,/g,"],~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),l=a.length,s=0,p="",g=0,i=c?e(c):this.shift;for(g=0;l>g;g++)p+=/\{/.exec(a[g])?i[s++]+a[g]:/\[/.exec(a[g])?i[s++]+a[g]:/\]/.exec(a[g])?i[--s]+a[g]:/\}/.exec(a[g])?i[--s]+a[g]:i[s]+a[g];return p.replace(/^\n{1,}/,"")},r.prototype.css=function(r,c){var a=r.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),l=a.length,s=0,p="",g=0,i=c?e(c):this.shift;for(g=0;l>g;g++)p+=/\{/.exec(a[g])?i[s++]+a[g]:/\}/.exec(a[g])?i[--s]+a[g]:/\*\\/.exec(a[g])?i[s]+a[g]:i[s]+a[g];return p.replace(/^\n{1,}/,"")},r.prototype.sql=function(r,l){var s=r.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),p=s.length,g=[],i=0,n=this.step,t=0,E="",N=0,o=l?e(l):this.shift;for(N=0;p>N;N++)g=g.concat(N%2?s[N]:a(s[N],n));for(p=g.length,N=0;p>N;N++){t=c(g[N],t),/\s{0,}\s{0,}SELECT\s{0,}/.exec(g[N])&&(g[N]=g[N].replace(/\,/g,",\n"+n+n)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(g[N])?(i++,E+=o[i]+g[N]):/\'/.exec(g[N])?(1>t&&i&&i--,E+=g[N]):(E+=o[i]+g[N],1>t&&i&&i--)}return E=E.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,r){var c=r?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return c.replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return e.replace(/\s{0,}\{\s{0,}/g,"{").replace(/\s{0,}\[$/g,"[").replace(/\[\s{0,}/g,"[").replace(/:\s{0,}\[/g,":[").replace(/\s{0,}\}\s{0,}/g,"}").replace(/\s{0,}\]\s{0,}/g,"]").replace(/\"\s{0,}\,/g,'",').replace(/\,\s{0,}\"/g,',"').replace(/\"\s{0,}:/g,'":').replace(/:\s{0,}\"/g,':"').replace(/:\s{0,}\[/g,":[").replace(/\,\s{0,}\[/g,",[").replace(/\,\s{2,}/g,", ").replace(/\]\s{0,},\s{0,}\[/g,"],[")},r.prototype.cssmin=function(e,r){var c=r?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"");return c.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},window.vkbeautify=new r}();